---
title: "Southampton FC Understat Scraper"
author: "saintsnumbers"
output: github_document
date: 2019-088-14
editor_options: 
  chunk_output_type: inline
---
  
```{r setup, include=FALSE}
# knitr::opts_chunk$set(echo = FALSE)

#libraries
library(tidyverse)
library(rvest)
library(magrittr)
library(understatr)
theme_set(theme_bw())

#delete environment variables
rm(list=ls())
```

## Scraping Southampton FC Understat data

### [Understatr package](https://github.com/ewenme/understatr)

```{r}
get_leagues_meta() %>%
  View("Leagues")

get_league_teams_stats("EPL",2018) %>%
  View("EPL 2018")

get_team_players_stats("Southampton",2018) %>%
  View("Southampton 2018")

get_player_matches_stats(843) %>%
  View("JWP matches")

get_player_seasons_stats(843) %>%
  View("JWP seasons")

get_team_players_stats("Southampton",2018) %>%
  ggplot(aes(x=reorder(player_name,time),y=time)) + geom_bar(stat="identity") +
  coord_flip()
```