---
#title: "tracking"
#author: "szfh"
#date: "2020-04-12"
output: github_document
---

```{r setup, include=F}
knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(
  pacman,
  here,
  tidyverse,
  magrittr,
  readr,
  knitr,
  CodaBonito
)
```

```{r download, include=F, eval=F}
# run to get data from github
game1 <- list()
game1[["events"]] <- read_csv("https://raw.githubusercontent.com/metrica-sports/sample-data/master/data/Sample_Game_1/Sample_Game_1_RawEventsData.csv")
game1[["home"]] <- read_csv("https://raw.githubusercontent.com/metrica-sports/sample-data/master/data/Sample_Game_1/Sample_Game_1_RawTrackingData_Home_Team.csv", skip=2)
game1[["away"]] <- read_csv("https://raw.githubusercontent.com/metrica-sports/sample-data/master/data/Sample_Game_1/Sample_Game_1_RawTrackingData_Away_Team.csv", skip=2)

game2 <- list()
game2[["events"]] <- readr::read_csv("https://raw.githubusercontent.com/metrica-sports/sample-data/master/data/Sample_Game_2/Sample_Game_2_RawEventsData.csv")
game2[["home"]] <- read_csv("https://raw.githubusercontent.com/metrica-sports/sample-data/master/data/Sample_Game_2/Sample_Game_2_RawTrackingData_Home_Team.csv", skip=2)
game2[["away"]] <- read_csv("https://raw.githubusercontent.com/metrica-sports/sample-data/master/data/Sample_Game_2/Sample_Game_2_RawTrackingData_Away_Team.csv", skip=2)

saveRDS(game1, here("data","tracking","game1.rds"))
saveRDS(game2, here("data","tracking","game2.rds"))
```

```{r load, include=F}
# run to get saved data
game1 <- readRDS(here("data","tracking","game1.rds"))
# game2 <- readRDS(here("data","tracking","game2.rds"))
```

## View data

```{r view}
game1[["events"]] %>% str(give.attr=FALSE)
game1[["home"]] %>% str(give.attr=FALSE)
game1[["away"]] %>% str(give.attr=FALSE)
game1[["events"]] %>%
  select("Subtype") %>%
  distinct()
```
